<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>tutturuu</title>

<style>
* { box-sizing: border-box; }

@font-face {
    font-family: "LoginFont";
    src: url("https://files.catbox.moe/bdhwbm.ttf") format("truetype");
}

html, body {
    margin: 0;
    width: 100%;
    height: 100%;
    background: black;
    font-family: monospace;
    color: #990e0e;
}

body {
    display: flex;
    align-items: center;
    justify-content: center;
    overflow: hidden;
}

/* LOGIN */
.login {
    font-family: "LoginFont", monospace;
    font-size: 25px;
    letter-spacing: 2px;
    padding: 12px 32px;
    cursor: pointer;
    z-index: 2;
}

.login:hover {
    background: #990e0e;
    color: black;
}

/* BOOT VIDEO */
video {
    display: none;
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: cover;
    z-index: 1;
}

/* DESKTOP */
.folder-wrapper {
    display: none;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
    z-index: 2;
}

.folder { width: 32px; }

.folder-label {
    margin-top: 6px;
    font-size: 14px;
}

/* WINDOWS */
.window {
    display: none;
    position: absolute;
    background: #990e0e;
    border: 2px solid #990e0e;
    z-index: 10;
    overflow: hidden;
}

/* HEADER */
.window-header {
    position: relative;
    display: flex;
    align-items: center;
    height: 28px;
    padding: 0 10px;
    background: #990e0e;
    color: black;
    font-size: 14px;
}

/* CLOSE BUTTON */
.close-btn {
    position: absolute;
    right: 6px;
    top: 50%;
    transform: translateY(-50%);
    width: 16px;
    height: 16px;
    background: black;
    border: none;
    cursor: pointer;
}

.close-btn::before,
.close-btn::after {
    content: "";
    position: absolute;
    top: 50%;
    left: 50%;
    width: 12px;
    height: 2px;
    background: #990e0e;
    transform-origin: center;
}

.close-btn::before {
    transform: translate(-50%, -50%) rotate(45deg);
}

.close-btn::after {
    transform: translate(-50%, -50%) rotate(-45deg);
}

/* CONTENT */
.window-content {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 16px;
    padding: 16px;
    background: black;
}

/* ITEMS */
.item {
    display: flex;
    flex-direction: column;
    align-items: center;
    cursor: pointer;
}

.item img {
    width: 32px;
    height: 32px;
}

.item span {
    margin-top: 6px;
    font-size: 12px;
    text-align: center;
}

.item:hover span {
    text-decoration: underline;
}

/* VIDEO WINDOW */
#videoWindow {
    width: 560px;
    max-width: 90vw;
}

/* YOUTUBE FIX (riusato per <video>) */
.video-content {
    position: relative;
    width: 100%;
    padding-top: 56.25%;
    background: black;
    overflow: hidden;
}

.video-content video {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    border: 0;
    display: block;
    background: black;
    transform: scale(1.01);
    transform-origin: center;
}

/* CURRICULUM */
#curriculumWindow img {
    display: block;
    max-width: 100%;
}

</style>
</head>

<body>

<div class="login" id="login">LOG IN</div>

<video id="introVideo" src="assets/osboot.mp4" playsinline preload="auto"></video>

<!-- DESKTOP ICON -->
<div class="folder-wrapper" id="folderWrapper">
    <img src="assets/folder.svg" class="folder">
    <div class="folder-label">../Upa</div>
</div>

<!-- MAIN WINDOW -->
<div class="window" id="docsWindow" style="width:320px;">
    <div class="window-header">
        <span>../Upa</span>
        <button class="close-btn" id="closeDocs"></button>
    </div>
    <div class="window-content" id="docsContent"></div>
</div>

<!-- VIDEO FOLDER -->
<div class="window" id="videoFolder" style="width:320px;">
    <div class="window-header">
        <span>../Upa/video</span>
        <button class="close-btn" id="closeVideoFolder"></button>
    </div>
    <div class="window-content">
        <div class="item" id="video1">
            <img src="assets/folder.svg">
            <span>001.avi</span>
        </div>

        <div class="item" id="video2">
            <img src="assets/folder.svg">
            <span>002.avi</span>
        </div>
    </div>
</div>

<!-- VIDEO PLAYER -->
<div class="window" id="videoWindow">
    <div class="window-header">
        <span id="videoHeader">001.avi</span>
        <button class="close-btn" id="closeVideo"></button>
    </div>

    <div class="video-content">
        <video id="videoPlayer" controls autoplay playsinline>
            <source src="" type="video/mp4">
        </video>
    </div>
</div>

<!-- CURRICULUM -->
<div class="window" id="curriculumWindow" style="width:360px;">
    <div class="window-header">
        <span>curriculum</span>
        <button class="close-btn" id="closeCurriculum"></button>
    </div>
    <img src="https://files.catbox.moe/kaa2b6.gif">
</div>

<script>
const login = document.getElementById("login");
const video = document.getElementById("introVideo");
const folder = document.getElementById("folderWrapper");

const docsWindow = document.getElementById("docsWindow");
const docsContent = document.getElementById("docsContent");

const videoFolder = document.getElementById("videoFolder");
const videoWindow = document.getElementById("videoWindow");
const videoPlayer = document.getElementById("videoPlayer");
const videoHeader = document.getElementById("videoHeader");

const curriculumWindow = document.getElementById("curriculumWindow");

let bootDone = false;

/* CENTER */
function center(win) {
    win.style.display = "block";
    win.style.top = "50%";
    win.style.left = "50%";
    win.style.transform = "translate(-50%, -50%)";
}

/* DOCS */
const docsFiles = ["Video", "curriculum"];

function renderDocs() {
    docsContent.innerHTML = "";
    docsFiles.forEach(name => {
        const el = document.createElement("div");
        el.className = "item";
        el.innerHTML = `<img src="assets/folder.svg"><span>${name}</span>`;
        el.onclick = () => {
            if (name === "Video") center(videoFolder);
            if (name === "curriculum") center(curriculumWindow);
        };
        docsContent.appendChild(el);
    });
}

/* LOGIN */
login.onclick = () => {
    login.style.display = "none";
    video.style.display = "block";
    video.play();
};

/* BOOT */
function showDesktop() {
    if (bootDone) return;
    bootDone = true;
    video.pause();
    video.style.display = "none";
    folder.style.display = "flex";
}

video.addEventListener("ended", showDesktop);
video.addEventListener("click", showDesktop);

/* DESKTOP */
folder.onclick = () => {
    renderDocs();
    center(docsWindow);
};

/* VIDEO OPEN */
document.getElementById("video1").onclick = () => {
    videoHeader.textContent = "001.avi";
    videoPlayer.src = "https://files.catbox.moe/7dess1.mp4";
    videoPlayer.play();
    center(videoWindow);
};

document.getElementById("video2").onclick = () => {
    videoHeader.textContent = "002.avi";
    videoPlayer.src = "https://files.catbox.moe/ng569m.mp4";
    videoPlayer.play();
    center(videoWindow);
};

/* CLOSE */
closeDocs.onclick = () => docsWindow.style.display = "none";
closeVideoFolder.onclick = () => videoFolder.style.display = "none";
closeCurriculum.onclick = () => curriculumWindow.style.display = "none";

closeVideo.onclick = () => {
    videoPlayer.pause();
    videoPlayer.src = "";
    videoWindow.style.display = "none";
};
</script>

</body>
</html>
